<!DOCTYPE html>
<html lang="es">
    <head>
        
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>CIC - Congreso de Informática de Cádiz</title>
        <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
              integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
              crossorigin="anonymous"
              rel="stylesheet">
        <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
                integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
                crossorigin="anonymous">
        </script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
                integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
                crossorigin="anonymous">
        </script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
                integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
                crossorigin="anonymous">
        </script>

        <link rel="stylesheet" href="../files/css/general.css">
        <link rel="stylesheet" href="../files/css/inscripcion.css">
        <script type="text/javascript" src="../files/js/inscripcion.js"></script>
        <script type="text/javascript">
            $(document).ready(function () {
                checkFormSend();
            });
        </script>
    </head>
    <body>
        <div id="page-container">
            <div id="content-wrap">
                <header>
                  <div class="header-header">
                     <a class="logo" href="./index.html"><img src="../files/img/logo.png" alt="CIC logo" /></a>
                     <nav class="nav-header">
                        <!-- <button type="button" class="btn btn-danger btn-lg buttonNav" id="inscripcion">
                            Inscripción
                        </button>
                        <button type="button" class="btn btn-danger btn-lg buttonNav" id="programa">
                            Programa
                        </button>
                        <button type="button" class="btn btn-danger btn-lg buttonNav" id="localizacion">
                            Localización
                        </button> -->

                        <a href="./inscripcion.html" class="btn btn-danger btn-lg buttonNav">
                            Inscripción
                        </a>
                        
                        <a href="./programa.html" class="btn btn-danger btn-lg buttonNav">Programa</a>
                                 


                        <a href="./localizacion.html" class="btn btn-danger btn-lg buttonNav">
                            Localización
                        </a>
                    </nav>

                    </div>
                </header>
                
                <section class="body"> 
                    <h2 style="margin-bottom:5%;">Formulario de inscripción</h2>   
                    <form id="form-inscription" class="body-form" method="POST" onsubmit="sendData()" action="http://localhost:3000/api/v1/inscriptions">
                        <div>
                            <input type="text" name="urlToRedirect" value="http://localhost:5500/src/inscripcion.html?formSend=true" hidden>
                        </div>
                        <!-- TODO: DELETE ALL STYLES IN LINE... -->
                        <div>
                            <label for="fname">Nombre:</label>
                            <input type="text" id="fname" name="fname" class="form-inscription-input" style="float:right" required>
                        </div>
                        <div>
                            <label for="lname">Apellidos:</label>
                            <input type="text" id="lname" name="lname" class="form-inscription-input" style="float:right" required>
                        </div>
                        <div>
                            <label for="ename">Email:</label>
                            <input type="email" id="ename" name="ename" class="form-inscription-input" style="float:right" required>
                        </div>
                        <div>
                            <label for="adname">Fecha entrada:</label>
                            <input type="date" id="adname" name="adname" class="form-inscription-input" min="2020-03-20" max="2020-04-01" value="2020-03-29" style="float:right" required>
                        </div>
                        <!-- TODO: add attributes min and max to input type date down -->
                        <div>
                            <label for="ddname">Fecha salida:</label>
                            <input type="date" id="ddname" name="ddname" class="form-inscription-input" value="2020-04-01" style="float:right" oninput="" required>
                        </div>
                        <script>
                            // TODO: delete after learn this... TODO for Elias.
                            // Example for dates
                            const a = new Date();
                            const b = new Date('2020-04-08');
                            const c = new Date(a - b);
                            console.log(c);
                            console.log(c.getDate());

                            // On key down disabled on input type dates...
                            $("input[type=date].form-inscription-input").on("keydown", function search(e)
                            {
                                return false;
                            });

                            // Fecha de entrada restricciones....
                            $("input[type=date].form-inscription-input#adname").change(function(event)
                            {
                                const value = $(this).val();
                                const date = new Date(value);
                                
                                if(date < new Date('2020-03-20'))
                                {
                                    $(this).val('2020-03-20');
                                } else if(date > new Date('2020-04-01'))
                                {
                                    $(this).val('2020-04-01');
                                }
                            });

                            // Fecha de salida restricciones....
                            $("input[type=date].form-inscription-input#ddname").change(function()
                            {
                                const value = $(this).val();
                                const date = new Date(value);
                                
                                if(date < new Date('2020-03-20'))
                                {
                                    $(this).val('2020-03-20');
                                } else if(date > new Date('2020-04-01'))
                                {
                                    $(this).val('2020-04-01');
                                }
                            });
                        </script>
                        <div>
                            <label for="form-selector">Tipo de inscripción :</label>
                            <select id="form-selector"  class="form-inscription-input" name="type_inscription" style="float:right" required>
                                <option value="completa">Inscripción completa</option>
                                <option value="doble">Inscripción 2 días</option>
                                <option value="individual">Inscripción 1 día</option>
                            </select>
                            </div>
                        <input type="submit" value="Enviar" style="float:right;">
                        <input type="reset" value="Borrar" style="float:right;">
                    </form>
                    <hr>
                    <h6>Nota: Si tiene problemas con la página, haga click en Borrar para volver a empezar.</h6>
                </section>
            </div>
            <footer class="footer">  
                <div class="footer-div">   
                    &copy;
                    <!-- Second column -->
                    <h6 class="footer-second">
                        <a href="mailto:estoesunaprueba1234567890000@gmail.com?Subject=Interesado%20en%20el%20evento">
                            Correo
                        </a>
                    </h6>
                </div>
            </footer>
        </div>
    </body>
</html>